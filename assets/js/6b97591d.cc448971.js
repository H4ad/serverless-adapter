"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5019],{7271:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>h,contentTitle:()=>t,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var r=n(5893),a=n(1151);const i={sidebar_position:1},t="Introduction",l={id:"main/intro",title:"Introduction",description:"This library was a refactored version of @vendia/serverless-express, I",source:"@site/docs/main/intro.mdx",sourceDirName:"main",slug:"/main/intro",permalink:"/docs/main/intro",draft:!1,unlisted:!1,editUrl:"https://github.com/H4ad/serverless-adapter/tree/main/www/docs/main/intro.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"main",next:{title:"Architecture",permalink:"/docs/main/architecture"}},h={},d=[{value:"Support",id:"support",level:2},{value:"Why you create this library?",id:"why-you-create-this-library",level:2},{value:"Breaking Changes",id:"breaking-changes",level:2},{value:"Credits",id:"credits",level:2}];function o(e){const s={a:"a",admonition:"admonition",code:"code",del:"del",em:"em",h1:"h1",h2:"h2",li:"li",p:"p",ul:"ul",...(0,a.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h1,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsxs)(s.p,{children:["This library was a refactored version of ",(0,r.jsx)(s.a,{href:"https://github.com/vendia/serverless-express",children:"@vendia/serverless-express"}),", I\ncreate a new way to interact and extend event sources by creating contracts to abstract the integrations between each\nlibrary layer."]}),"\n",(0,r.jsxs)(s.p,{children:["Why you would use this libray instead of ",(0,r.jsx)(s.a,{href:"https://github.com/vendia/serverless-express",children:"@vendia/serverless-express"}),"?"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Better APIs to extend library functionality.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["You don't need me to release a new version to integrate with the new event source, you can create an adapter and\njust call the ",(0,r.jsx)(s.code,{children:"addAdapter"})," method when building your handler."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["All code can be extended, if you want to modify the current behavior you can.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["This is important because if you find a bug, you can quickly resolve it by extending the class, ",(0,r.jsx)(s.em,{children:"and then you can\nsubmit a PR to fix the bug"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"All code was written in Typescript."}),"\n",(0,r.jsx)(s.li,{children:"Well documented, any method, class, or interface has comments to explain the behavior."}),"\n",(0,r.jsx)(s.li,{children:"We have >99% coverage."}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"support",children:"Support"}),"\n",(0,r.jsx)(s.p,{children:"By design we have these contracts that define the layers of the library: Frameworks, Adapters, Resolvers and Handlers."}),"\n",(0,r.jsx)(s.admonition,{type:"info",children:(0,r.jsxs)(s.p,{children:["If you don't know what each thing means, see ",(0,r.jsx)(s.a,{href:"./architecture",children:"Architecture"}),"."]})}),"\n",(0,r.jsx)(s.p,{children:"Currently, we support these clouds (handlers):"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Azure by using (",(0,r.jsx)(s.a,{href:"./handlers/azure",children:"AzureHandler"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:["AWS by using (",(0,r.jsx)(s.a,{href:"./handlers/aws",children:"DefaultHandler"}),")","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["For ",(0,r.jsx)(s.a,{href:"https://aws.amazon.com/blogs/compute/introducing-aws-lambda-response-streaming/",children:"AWS Lambda Response Streaming"}),", you should use (",(0,r.jsx)(s.a,{href:"./handlers/aws#aws-lambda-response-streaming",children:"AwsStreamHandler"}),")"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Digital Ocean by using (",(0,r.jsx)(s.a,{href:"./handlers/digital-ocean",children:"DigitalOceanHandler"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:["Firebase by using (",(0,r.jsx)(s.a,{href:"./handlers/firebase",children:"HttpFirebaseHandler"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:["Huawei by using (",(0,r.jsx)(s.a,{href:"./handlers/huawei#http-function",children:"HttpHuaweiHandler"}),") and (",(0,r.jsx)(s.a,{href:"./handlers/huawei#event-function",children:"EventHuaweiHandler"}),")"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Additionally, we support these frameworks:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://www.apollographql.com/docs/apollo-server/",children:"Apollo Server"})," by using (",(0,r.jsx)(s.a,{href:"./frameworks/apollo-server",children:"ApolloServerFramework"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://docs.deepkit.io/",children:"Deepkit"})," by using (",(0,r.jsx)(s.a,{href:"./frameworks/deepkit",children:"HttpDeepkitFramework"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://expressjs.com/",children:"Express"})," by using (",(0,r.jsx)(s.a,{href:"./frameworks/express",children:"ExpressFramework"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://www.fastify.io/",children:"Fastify"})," by using (",(0,r.jsx)(s.a,{href:"./frameworks/fastify",children:"FastifyFramework"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://hapi.dev/",children:"Hapi"})," by using (",(0,r.jsx)(s.a,{href:"./frameworks/hapi",children:"HapiFramework"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://koajs.com/",children:"Koa"})," by using (",(0,r.jsx)(s.a,{href:"./frameworks/koa",children:"KoaFramework"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://nestjs.com/",children:"NestJS"}),", see the ",(0,r.jsx)(s.a,{href:"./frameworks/nestjs",children:"documentation about"})," to know how to integrate."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://trpc.io/",children:"tRPC"}),", see the ",(0,r.jsx)(s.a,{href:"./frameworks/trpc",children:"documentation about"})," to know how to integrate."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Additionally, we have some helper frameworks that you can combine with the above frameworks to give more power to your application:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Async Initialization by using (",(0,r.jsx)(s.a,{href:"./frameworks/helpers/lazy",children:"LazyFramework"}),")","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Use this framework to provide a way to create the instance of your app asynchronously."}),"\n",(0,r.jsxs)(s.li,{children:["With him, you can create an instance of Express or Fastify asynchronously, ",(0,r.jsx)(s.a,{href:"./frameworks/helpers/lazy",children:"see the docs"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["CORS support without rely on original framework with (",(0,r.jsx)(s.a,{href:"./frameworks/helpers/cors",children:"CorsFramework"}),")","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Use this framework to provide a way to handle CORS in frameworks like ",(0,r.jsx)(s.code,{children:"trpc"}),", ",(0,r.jsx)(s.code,{children:"deepkit"})," and others."]}),"\n",(0,r.jsxs)(s.li,{children:["Or use to get faster responses when method is ",(0,r.jsx)(s.code,{children:"OPTIONS"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Content Type parsing support without rely on original framework with (",(0,r.jsx)(s.a,{href:"./frameworks/helpers/body-parser",children:"BodyParserFramework"}),")","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Use this framework to provide a way to handle content type parsing in frameworks like ",(0,r.jsx)(s.code,{children:"trpc"}),", ",(0,r.jsx)(s.code,{children:"deepkit"})," and others."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"We support these event sources:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["AWS","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://docs.aws.amazon.com/lambda/latest/dg/services-alb.html",children:"AWS Load Balancer"})," by\nusing (",(0,r.jsx)(s.a,{href:"./adapters/aws/alb",children:"AlbAdapter"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-develop-integrations-lambda.html",children:"AWS Api Gateway V1"}),"\nby using (",(0,r.jsx)(s.a,{href:"./adapters/aws/api-gateway-v1",children:"ApiGatewayV1Adapter"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-develop-integrations-lambda.html",children:"AWS Api Gateway V2"}),"\nby using (",(0,r.jsx)(s.a,{href:"./adapters/aws/api-gateway-v2",children:"ApiGatewayV2Adapter"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://docs.aws.amazon.com/lambda/latest/dg/lambda-urls.html",children:"AWS Lambda Function URLs"}),"\nby using (",(0,r.jsx)(s.a,{href:"./adapters/aws/function-url",children:"ApiGatewayV2Adapter"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://docs.aws.amazon.com/lambda/latest/dg/with-ddb.html",children:"AWS DynamoDB"})," by\nusing (",(0,r.jsx)(s.a,{href:"./adapters/aws/dynamodb",children:"DynamoDBAdapter"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://docs.aws.amazon.com/lambda/latest/dg/services-cloudwatchevents.html",children:"AWS Event Bridge / CloudWatch Events"}),"\nby using (",(0,r.jsx)(s.a,{href:"./adapters/aws/event-bridge",children:"EventBridgeAdapter"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://docs.aws.amazon.com/lambda/latest/dg/lambda-edge.html",children:"AWS Lambda Edge"})," by\nusing (",(0,r.jsx)(s.a,{href:"./adapters/aws/lambda-edge",children:"LambdaEdgeAdapter"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://docs.aws.amazon.com/lambda/latest/dg/with-sns.html",children:"AWS SNS"})," by\nusing (",(0,r.jsx)(s.a,{href:"./adapters/aws/sns",children:"SNSAdapter"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://docs.aws.amazon.com/lambda/latest/dg/with-sqs.html",children:"AWS SQS"})," by\nusing (",(0,r.jsx)(s.a,{href:"./adapters/aws/sqs",children:"SQSAdapter"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://docs.aws.amazon.com/lambda/latest/dg/with-s3.html",children:"AWS S3"})," by\nusing (",(0,r.jsx)(s.a,{href:"./adapters/aws/s3",children:"S3Adapter"}),")"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Huawei","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://support.huaweicloud.com/intl/en-us/usermanual-functiongraph/functiongraph_01_1442.html",children:"Http Function"}),": Look ",(0,r.jsx)(s.a,{href:"./handlers/huawei#http-function",children:"this section"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://support.huaweicloud.com/intl/en-us/usermanual-functiongraph/functiongraph_01_1441.html",children:"Event Function"}),": Look ",(0,r.jsx)(s.a,{href:"./handlers/huawei#event-function",children:"this section"}),".","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://support.huaweicloud.com/intl/en-us/devg-functiongraph/functiongraph_02_0102.html#functiongraph_02_0102__li5178638110137",children:"Api Gateway"})," by using (",(0,r.jsx)(s.a,{href:"./adapters/huawei/huawei-api-gateway",children:"HuaweiApiGatewayAdapter"}),")."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Azure","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://docs.microsoft.com/en-us/azure/azure-functions/functions-bindings-timer?tabs=in-process&pivots=programming-language-javascript",children:"Http Trigger V4"})," by using (",(0,r.jsx)(s.a,{href:"./adapters/azure/http-trigger-v4",children:"HttpTriggerV4Adapter"}),")."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Digital Ocean","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://docs.digitalocean.com/products/functions/quickstart/sample-functions/",children:"Functions"})," by using ",(0,r.jsx)(s.a,{href:"./handlers/digital-ocean",children:"DigitalOceanHandler"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Firebase","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://firebase.google.com/docs/functions/http-events",children:"Http Events"})," using (",(0,r.jsx)(s.a,{href:"./handlers/firebase",children:"HttpFirebaseHandler"})," and ",(0,r.jsx)(s.a,{href:"./handlers/firebase",children:"HttpFirebaseV2Handler"}),")."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Google Cloud Functions (GCP)","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://cloud.google.com/functions/docs/console-quickstart",children:"Http Functions"})," using (",(0,r.jsx)(s.a,{href:"./handlers/gcp",children:"GCPHandler"}),")."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"We support these resolvers:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Promise by using (",(0,r.jsx)(s.a,{href:"./resolvers/promise",children:"PromiseResolver"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:["Callback by using (",(0,r.jsx)(s.a,{href:"./resolvers/callback",children:"CallbackResolver"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:["AWS Context by using (",(0,r.jsx)(s.a,{href:"./resolvers/aws-context",children:"AwsContextResolver"}),")"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"why-you-create-this-library",children:"Why you create this library?"}),"\n",(0,r.jsxs)(s.p,{children:["The real reason I created this library was because I wanted to add API Gateway and SQS support at the same time to save\nsome money. But, ",(0,r.jsx)(s.a,{href:"https://github.com/vendia/serverless-express",children:"@vendia/serverless-express"})," was not supported, so\nI ",(0,r.jsx)(s.a,{href:"https://github.com/vendia/serverless-express/pull/483",children:"created a PR"})," ",(0,r.jsx)(s.del,{children:"but until I finished this library that PR was never accepted"})," and it was merged but it took so long."]}),"\n",(0,r.jsx)(s.p,{children:"So I build my own library based on that library with better APIs so I never have to wait for the maintainer to accept my\nPR just to extend the library's functionality :)"}),"\n",(0,r.jsx)(s.h2,{id:"breaking-changes",children:"Breaking Changes"}),"\n",(0,r.jsx)(s.p,{children:"I will not consider updating/breaking compatibility of a NodeJS framework as a breaking change,\nbecause I had a lot of supported frameworks and if I created a major version for each one it would be a mess."}),"\n",(0,r.jsxs)(s.p,{children:["So if you want predictability, pin the version with ",(0,r.jsx)(s.code,{children:"~"})," instead of ",(0,r.jsx)(s.code,{children:"^"}),"."]}),"\n",(0,r.jsx)(s.h2,{id:"credits",children:"Credits"}),"\n",(0,r.jsx)(s.p,{children:"Honestly, I just refactored all the code that the @vendia team and many other contributors wrote, thanks so much to them\nfor existing and giving us a brilliant library that is the core of my current company."})]})}function c(e={}){const{wrapper:s}={...(0,a.a)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},1151:(e,s,n)=>{n.d(s,{Z:()=>l,a:()=>t});var r=n(7294);const a={},i=r.createContext(a);function t(e){const s=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),r.createElement(i.Provider,{value:s},e.children)}}}]);