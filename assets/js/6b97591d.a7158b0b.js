"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5019],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>c});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var o=r.createContext({}),p=function(e){var t=r.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},m=function(e){var t=p(e.components);return r.createElement(o.Provider,{value:t},e.children)},u="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,o=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),u=p(a),d=n,c=u["".concat(o,".").concat(d)]||u[d]||h[d]||i;return a?r.createElement(c,l(l({ref:t},m),{},{components:a})):r.createElement(c,l({ref:t},m))}));function c(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,l=new Array(i);l[0]=d;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s[u]="string"==typeof e?e:n,l[1]=s;for(var p=2;p<i;p++)l[p]=a[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}d.displayName="MDXCreateElement"},2352:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var r=a(7462),n=(a(7294),a(3905));const i={sidebar_position:1},l="Introduction",s={unversionedId:"main/intro",id:"main/intro",title:"Introduction",description:"This library was a refactored version of @vendia/serverless-express, I",source:"@site/docs/main/intro.mdx",sourceDirName:"main",slug:"/main/intro",permalink:"/docs/main/intro",draft:!1,editUrl:"https://github.com/H4ad/serverless-adapter/tree/main/www/docs/main/intro.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"main",next:{title:"Architecture",permalink:"/docs/main/architecture"}},o={},p=[{value:"Support",id:"support",level:2},{value:"Why you create this library?",id:"why-you-create-this-library",level:2},{value:"Breaking Changes",id:"breaking-changes",level:2},{value:"Credits",id:"credits",level:2}],m={toc:p},u="wrapper";function h(e){let{components:t,...a}=e;return(0,n.kt)(u,(0,r.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"introduction"},"Introduction"),(0,n.kt)("p",null,"This library was a refactored version of ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/vendia/serverless-express"},"@vendia/serverless-express"),", I\ncreate a new way to interact and extend event sources by creating contracts to abstract the integrations between each\nlibrary layer."),(0,n.kt)("p",null,"Why you would use this libray instead of ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/vendia/serverless-express"},"@vendia/serverless-express"),"?"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Better APIs to extend library functionality.",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"You don't need me to release a new version to integrate with the new event source, you can create an adapter and\njust call the ",(0,n.kt)("inlineCode",{parentName:"li"},"addAdapter")," method when building your handler."))),(0,n.kt)("li",{parentName:"ul"},"All code can be extended, if you want to modify the current behavior you can.",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"This is important because if you find a bug, you can quickly resolve it by extending the class, ",(0,n.kt)("em",{parentName:"li"},"and then you can\nsubmit a PR to fix the bug"),"."))),(0,n.kt)("li",{parentName:"ul"},"All code was written in Typescript."),(0,n.kt)("li",{parentName:"ul"},"Well documented, any method, class, or interface has comments to explain the behavior."),(0,n.kt)("li",{parentName:"ul"},"We have >99% coverage.")),(0,n.kt)("h2",{id:"support"},"Support"),(0,n.kt)("p",null,"By design we have these contracts that define the layers of the library: Frameworks, Adapters, Resolvers and Handlers."),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"If you don't know what each thing means, see ",(0,n.kt)("a",{parentName:"p",href:"./architecture"},"Architecture"),".")),(0,n.kt)("p",null,"Currently, we support these clouds (handlers):"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Azure by using (",(0,n.kt)("a",{parentName:"li",href:"./handlers/azure"},"AzureHandler"),")"),(0,n.kt)("li",{parentName:"ul"},"AWS by using (",(0,n.kt)("a",{parentName:"li",href:"./handlers/aws"},"DefaultHandler"),")",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"For ",(0,n.kt)("a",{parentName:"li",href:"https://aws.amazon.com/blogs/compute/introducing-aws-lambda-response-streaming/"},"AWS Lambda Response Streaming"),", you should use (",(0,n.kt)("a",{parentName:"li",href:"./handlers/aws#aws-lambda-response-streaming"},"AwsStreamHandler"),")"))),(0,n.kt)("li",{parentName:"ul"},"Digital Ocean by using (",(0,n.kt)("a",{parentName:"li",href:"./handlers/digital-ocean"},"DigitalOceanHandler"),")"),(0,n.kt)("li",{parentName:"ul"},"Firebase by using (",(0,n.kt)("a",{parentName:"li",href:"./handlers/firebase"},"HttpFirebaseHandler"),")"),(0,n.kt)("li",{parentName:"ul"},"Huawei by using (",(0,n.kt)("a",{parentName:"li",href:"./handlers/huawei#http-function"},"HttpHuaweiHandler"),") and (",(0,n.kt)("a",{parentName:"li",href:"./handlers/huawei#event-function"},"EventHuaweiHandler"),")")),(0,n.kt)("p",null,"Additionally, we support these frameworks:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://www.apollographql.com/docs/apollo-server/"},"Apollo Server")," by using (",(0,n.kt)("a",{parentName:"li",href:"./frameworks/apollo-server"},"ApolloServerFramework"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://docs.deepkit.io/"},"Deepkit")," by using (",(0,n.kt)("a",{parentName:"li",href:"./frameworks/deepkit"},"HttpDeepkitFramework"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://expressjs.com/"},"Express")," by using (",(0,n.kt)("a",{parentName:"li",href:"./frameworks/express"},"ExpressFramework"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://www.fastify.io/"},"Fastify")," by using (",(0,n.kt)("a",{parentName:"li",href:"./frameworks/fastify"},"FastifyFramework"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://hapi.dev/"},"Hapi")," by using (",(0,n.kt)("a",{parentName:"li",href:"./frameworks/hapi"},"HapiFramework"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://koajs.com/"},"Koa")," by using (",(0,n.kt)("a",{parentName:"li",href:"./frameworks/koa"},"KoaFramework"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://nestjs.com/"},"NestJS"),", see the ",(0,n.kt)("a",{parentName:"li",href:"./frameworks/nestjs"},"documentation about")," to know how to integrate."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://trpc.io/"},"tRPC"),", see the ",(0,n.kt)("a",{parentName:"li",href:"./frameworks/trpc"},"documentation about")," to know how to integrate.")),(0,n.kt)("p",null,"Additionally, we have some helper frameworks that you can combine with the above frameworks to give more power to your application:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Async Initialization by using (",(0,n.kt)("a",{parentName:"li",href:"./frameworks/helpers/lazy"},"LazyFramework"),")",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Use this framework to provide a way to create the instance of your app asynchronously."),(0,n.kt)("li",{parentName:"ul"},"With him, you can create an instance of Express or Fastify asynchronously, ",(0,n.kt)("a",{parentName:"li",href:"./frameworks/helpers/lazy"},"see the docs"),"."))),(0,n.kt)("li",{parentName:"ul"},"CORS support without rely on original framework with (",(0,n.kt)("a",{parentName:"li",href:"./frameworks/helpers/cors"},"CorsFramework"),")",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Use this framework to provide a way to handle CORS in frameworks like ",(0,n.kt)("inlineCode",{parentName:"li"},"trpc"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"deepkit")," and others."),(0,n.kt)("li",{parentName:"ul"},"Or use to get faster responses when method is ",(0,n.kt)("inlineCode",{parentName:"li"},"OPTIONS"),"."))),(0,n.kt)("li",{parentName:"ul"},"Content Type parsing support without rely on original framework with (",(0,n.kt)("a",{parentName:"li",href:"./frameworks/helpers/body-parser"},"BodyParserFramework"),")",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"Use this framework to provide a way to handle content type parsing in frameworks like ",(0,n.kt)("inlineCode",{parentName:"li"},"trpc"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"deepkit")," and others.")))),(0,n.kt)("p",null,"We support these event sources:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"AWS",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/lambda/latest/dg/services-alb.html"},"AWS Load Balancer")," by\nusing (",(0,n.kt)("a",{parentName:"li",href:"./adapters/aws/alb"},"AlbAdapter"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-develop-integrations-lambda.html"},"AWS Api Gateway V1"),"\nby using (",(0,n.kt)("a",{parentName:"li",href:"./adapters/aws/api-gateway-v1"},"ApiGatewayV1Adapter"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/apigateway/latest/developerguide/http-api-develop-integrations-lambda.html"},"AWS Api Gateway V2"),"\nby using (",(0,n.kt)("a",{parentName:"li",href:"./adapters/aws/api-gateway-v2"},"ApiGatewayV2Adapter"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/lambda/latest/dg/lambda-urls.html"},"AWS Lambda Function URLs"),"\nby using (",(0,n.kt)("a",{parentName:"li",href:"./adapters/aws/function-url"},"ApiGatewayV2Adapter"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/lambda/latest/dg/with-ddb.html"},"AWS DynamoDB")," by\nusing (",(0,n.kt)("a",{parentName:"li",href:"./adapters/aws/dynamodb"},"DynamoDBAdapter"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/lambda/latest/dg/services-cloudwatchevents.html"},"AWS Event Bridge / CloudWatch Events"),"\nby using (",(0,n.kt)("a",{parentName:"li",href:"./adapters/aws/event-bridge"},"EventBridgeAdapter"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/lambda/latest/dg/lambda-edge.html"},"AWS Lambda Edge")," by\nusing (",(0,n.kt)("a",{parentName:"li",href:"./adapters/aws/lambda-edge"},"LambdaEdgeAdapter"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/lambda/latest/dg/with-sns.html"},"AWS SNS")," by\nusing (",(0,n.kt)("a",{parentName:"li",href:"./adapters/aws/sns"},"SNSAdapter"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/lambda/latest/dg/with-sqs.html"},"AWS SQS")," by\nusing (",(0,n.kt)("a",{parentName:"li",href:"./adapters/aws/sqs"},"SQSAdapter"),")"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://docs.aws.amazon.com/lambda/latest/dg/with-s3.html"},"AWS S3")," by\nusing (",(0,n.kt)("a",{parentName:"li",href:"./adapters/aws/s3"},"S3Adapter"),")"))),(0,n.kt)("li",{parentName:"ul"},"Huawei",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://support.huaweicloud.com/intl/en-us/usermanual-functiongraph/functiongraph_01_1442.html"},"Http Function"),": Look ",(0,n.kt)("a",{parentName:"li",href:"./handlers/huawei#http-function"},"this section"),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://support.huaweicloud.com/intl/en-us/usermanual-functiongraph/functiongraph_01_1441.html"},"Event Function"),": Look ",(0,n.kt)("a",{parentName:"li",href:"./handlers/huawei#event-function"},"this section"),".",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://support.huaweicloud.com/intl/en-us/devg-functiongraph/functiongraph_02_0102.html#functiongraph_02_0102__li5178638110137"},"Api Gateway")," by using (",(0,n.kt)("a",{parentName:"li",href:"./adapters/huawei/huawei-api-gateway"},"HuaweiApiGatewayAdapter"),")."))))),(0,n.kt)("li",{parentName:"ul"},"Azure",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/en-us/azure/azure-functions/functions-bindings-timer?tabs=in-process&pivots=programming-language-javascript"},"Http Trigger V4")," by using (",(0,n.kt)("a",{parentName:"li",href:"./adapters/azure/http-trigger-v4"},"HttpTriggerV4Adapter"),")."))),(0,n.kt)("li",{parentName:"ul"},"Digital Ocean",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://docs.digitalocean.com/products/functions/quickstart/sample-functions/"},"Functions")," by using ",(0,n.kt)("a",{parentName:"li",href:"./handlers/digital-ocean"},"DigitalOceanHandler"),"."))),(0,n.kt)("li",{parentName:"ul"},"Firebase",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://firebase.google.com/docs/functions/http-events"},"Http Events")," using (",(0,n.kt)("a",{parentName:"li",href:"./handlers/firebase"},"HttpFirebaseHandler")," and ",(0,n.kt)("a",{parentName:"li",href:"./handlers/firebase"},"HttpFirebaseV2Handler"),")."))),(0,n.kt)("li",{parentName:"ul"},"Google Cloud Functions (GCP)",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://cloud.google.com/functions/docs/console-quickstart"},"Http Functions")," using (",(0,n.kt)("a",{parentName:"li",href:"./handlers/gcp"},"GCPHandler"),").")))),(0,n.kt)("p",null,"We support these resolvers:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Promise by using (",(0,n.kt)("a",{parentName:"li",href:"./resolvers/promise"},"PromiseResolver"),")"),(0,n.kt)("li",{parentName:"ul"},"Callback by using (",(0,n.kt)("a",{parentName:"li",href:"./resolvers/callback"},"CallbackResolver"),")"),(0,n.kt)("li",{parentName:"ul"},"AWS Context by using (",(0,n.kt)("a",{parentName:"li",href:"./resolvers/aws-context"},"AwsContextResolver"),")")),(0,n.kt)("h2",{id:"why-you-create-this-library"},"Why you create this library?"),(0,n.kt)("p",null,"The real reason I created this library was because I wanted to add API Gateway and SQS support at the same time to save\nsome money. But, ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/vendia/serverless-express"},"@vendia/serverless-express")," was not supported, so\nI ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/vendia/serverless-express/pull/483"},"created a PR")," ",(0,n.kt)("del",{parentName:"p"},"but until I finished this library that PR was never accepted")," and it was merged but it took so long."),(0,n.kt)("p",null,"So I build my own library based on that library with better APIs so I never have to wait for the maintainer to accept my\nPR just to extend the library's functionality :)"),(0,n.kt)("h2",{id:"breaking-changes"},"Breaking Changes"),(0,n.kt)("p",null,"I will not consider updating/breaking compatibility of a NodeJS framework as a breaking change,\nbecause I had a lot of supported frameworks and if I created a major version for each one it would be a mess."),(0,n.kt)("p",null,"So if you want predictability, pin the version with ",(0,n.kt)("inlineCode",{parentName:"p"},"~")," instead of ",(0,n.kt)("inlineCode",{parentName:"p"},"^"),"."),(0,n.kt)("h2",{id:"credits"},"Credits"),(0,n.kt)("p",null,"Honestly, I just refactored all the code that the @vendia team and many other contributors wrote, thanks so much to them\nfor existing and giving us a brilliant library that is the core of my current company."))}h.isMDXComponent=!0}}]);